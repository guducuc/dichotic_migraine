<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
<title>Dikotik & CI Testi (KararlÄ± SÃ¼rÃ¼m)</title>

<meta name="emailjs-user"    content="FLn2zMqKDGso3ePoO">
<meta name="emailjs-service" content="service_a8bnfmk">
<meta name="emailjs-template" content="template_r6sddff">

<style>
  body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif; margin:0; padding:15px; background:#f0f2f5; color:#333; max-width: 500px; margin: auto;}
  h1{font-size:1.3rem; text-align:center; margin-bottom:20px; color:#2c3e50;}
  .card{background:#fff; border-radius:10px; box-shadow:0 1px 3px rgba(0,0,0,0.1); padding:20px; margin-bottom:15px;}
  .hidden{display:none !important;}
  
  input, select { width:100%; padding:14px; margin:8px 0; border:1px solid #ccc; border-radius:8px; font-size:16px; box-sizing:border-box; }
  
  /* Mobilde kolay seÃ§im iÃ§in bÃ¼yÃ¼k radyo butonlarÄ± */
  input[type="radio"], input[type="checkbox"] { width: 22px; height: 22px; margin-right: 10px; vertical-align: bottom; }
  label { display: flex; align-items: center; margin-bottom: 12px; font-size: 15px; cursor:pointer; }
  .question-group { margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
  .question-title { font-weight: bold; display: block; margin-bottom: 8px; }

  .bigBtn { width:100%; padding:16px; border:none; border-radius:8px; background:#3498db; color:white; font-size:16px; font-weight:bold; cursor:pointer; margin-top:10px; }
  .bigBtn:active { background:#2980b9; transform:scale(0.98); }
  .btnGreen { background:#27ae60; }
  .btnRed { background:#c0392b; }

  /* CI / Dikotik ButonlarÄ± */
  .respRow { display:flex; gap:8px; margin-top:15px; }
  .respBtn { flex:1; padding:20px 5px; background:#ecf0f1; border-radius:8px; text-align:center; font-weight:bold; cursor:pointer; border:1px solid #bdc3c7; color:#2c3e50; user-select: none; -webkit-tap-highlight-color: transparent; }
  .respBtn:active, .respBtn-active { background:#2c3e50 !important; color:#fff !important; }

  /* Grid Tablo */
  .hand-grid-row { display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid #eee; padding: 10px 0; }
  
  #ciInfoDisplay { background: #fff3cd; color: #856404; padding: 15px; text-align: center; border-radius: 6px; margin-bottom: 15px; font-weight: bold; border: 1px solid #ffeeba; }
  
  /* Modal */
  .modal{position:fixed;z-index:999;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,0.6);display:none}
  .modal-content{background:#fff;margin:10% auto;padding:20px;border-radius:10px;max-width:90%;max-height:80vh;overflow-y:auto}
  .close{float:right;font-size:28px;font-weight:bold;cursor:pointer}
</style>
</head>
<body>

<h1>Dikotik & CI Ã‡alÄ±ÅŸmasÄ±</h1>

<div id="card_project" class="card">
  <h3>Proje Kodu</h3>
  <select id="projectCode">
    <option value="">SeÃ§iniz...</option>
    <option value="CI">CI (Zamanlama)</option>
    <option value="Esporcu">Esporcu</option>
    <option value="Sporcu">Sporcu</option>
    <option value="OCM">OCM</option>
    <option value="OykuTez">Ã–ykÃ¼ Tez</option>
  </select>
  <button id="btn_project" class="bigBtn">Devam</button>
</div>

<div id="card_participation" class="card hidden">
  <h3>KatÄ±lÄ±m Durumu</h3>
  <label><input type="radio" name="partType" value="1" checked> Ä°lk kez katÄ±lÄ±yorum</label>
  <label><input type="radio" name="partType" value="2"> Daha Ã¶nce katÄ±ldÄ±m</label>
  <button id="btn_part" class="bigBtn">Devam</button>
</div>

<div id="card_consent" class="card hidden">
  <h3>Onam Formu</h3>
  <button id="btn_showConsent" class="bigBtn" style="background:#7f8c8d; margin-bottom:10px;">Onam Formunu Oku</button>
  <div id="consentTextPreview" style="font-size:13px; color:#666; margin-bottom:10px;"></div>
  <div style="display:flex; gap:10px;">
    <button id="btn_accept" class="bigBtn btnGreen">Kabul Ediyorum</button>
    <button id="btn_decline" class="bigBtn btnRed">Etmiyorum</button>
  </div>
</div>

<div id="consentModal" class="modal">
  <div class="modal-content">
    <span class="close" id="closeModal">&times;</span>
    <div id="modalBody"></div>
  </div>
</div>

<div id="card_info" class="card hidden">
  <h3>KiÅŸisel Bilgiler</h3>
  <input id="inp_name" placeholder="Ad (Ä°lk 2 harf)">
  <input id="inp_surname" placeholder="Soyad (Ä°lk 2 harf)">
  <input id="inp_age" type="number" placeholder="YaÅŸ">
  <input id="inp_email" type="email" placeholder="E-posta">
  <input id="inp_phone" type="tel" placeholder="Telefon">
  <input id="inp_race" placeholder="DoÄŸum Yeri/Irk">
  <input id="inp_lang" placeholder="Anadil">
  <select id="inp_gender"><option value="">Cinsiyet</option><option>KadÄ±n</option><option>Erkek</option><option>DiÄŸer</option></select>
  
  <div id="codeDisplay" style="margin-top:10px; font-weight:bold; color:#2c3e50;"></div>
  <button id="btn_info" class="bigBtn">Devam</button>
</div>

<div id="card_espor" class="card hidden">
  <h3>Esporcu Bilgileri</h3>
  <div class="question-group"><span class="question-title">Oyun TÃ¼rÃ¼</span>
    <label><input type="radio" name="gameType" value="FPS"> FPS</label>
    <label><input type="radio" name="gameType" value="MOBA"> MOBA</label>
    <label><input type="radio" name="gameType" value="DiÄŸer"> DiÄŸer</label>
  </div>
  <input id="esp_years" type="number" placeholder="KaÃ§ yÄ±ldÄ±r oynuyorsunuz?">
  <button id="btn_espor" class="bigBtn">Devam</button>
</div>

<div id="card_spor" class="card hidden">
  <h3>Sporcu Bilgileri</h3>
  <input id="sp_years" type="number" placeholder="KaÃ§ yÄ±ldÄ±r spor yapÄ±yorsunuz?">
  <div class="question-group"><span class="question-title">Pozisyon</span>
    <label><input type="radio" name="pos" value="Guard"> Guard</label>
    <label><input type="radio" name="pos" value="Forvet"> Forvet</label>
    <label><input type="radio" name="pos" value="Pivot"> Pivot</label>
  </div>
  <button id="btn_spor" class="bigBtn">Devam</button>
</div>

<div id="card_hand" class="card hidden">
  <h3>El KullanÄ±mÄ±</h3>
  <p style="font-size:13px; color:#666;">(Bu bÃ¶lÃ¼m ÅŸu an pasiftir, devam ediniz.)</p>
  <div id="handQuestionsArea"></div>
  <button id="btn_hand" class="bigBtn">Devam</button>
</div>

<div id="card_stai" class="card hidden">
  <h3>Duygu Durumu</h3>
  <p style="font-size:13px; color:#666;">(Bu bÃ¶lÃ¼m ÅŸu an pasiftir, devam ediniz.)</p>
  <div id="staiQuestionsArea"></div>
  <button id="btn_stai" class="bigBtn">Devam</button>
</div>

<div id="card_hearing" class="card hidden">
  <h3>Ses KontrolÃ¼</h3>
  <p style="color:#c0392b; font-weight:bold; font-size:14px;">âš ï¸ iPhone/iPad: LÃ¼tfen yandaki "Sessiz" anahtarÄ±nÄ± kapatÄ±p zil sesini aÃ§Ä±n.</p>
  
  <div style="background:#f9f9f9; padding:15px; border-radius:8px; margin-bottom:15px;">
    <label>Sol Kulak Sesi</label>
    <input type="range" id="vol_L" min="0" max="1" step="0.1" value="0.5">
    <button id="btn_playL" class="bigBtn" style="background:#9b59b6; margin-top:5px;">Sol Test (Bip) ğŸ”Š</button>
  </div>

  <div style="background:#f9f9f9; padding:15px; border-radius:8px;">
    <label>SaÄŸ Kulak Sesi</label>
    <input type="range" id="vol_R" min="0" max="1" step="0.1" value="0.5">
    <button id="btn_playR" class="bigBtn" style="background:#9b59b6; margin-top:5px;">SaÄŸ Test (Bip) ğŸ”Š</button>
  </div>

  <button id="btn_startTest" class="bigBtn" style="margin-top:20px; background:#e67e22;">TESTÄ° BAÅLAT</button>
</div>

<div id="card_ci" class="card hidden">
  <h3>Zamanlama Testi (CI)</h3>
  <div id="ciInfoDisplay">HazÄ±rlanÄ±yor...</div>
  <div style="text-align:center; font-weight:bold; margin-bottom:10px;">Sesi hangi tarafta duydunuz?</div>
  <div class="respRow">
    <div class="respBtn ciBtn" data-ans="Left">SOL</div>
    <div class="respBtn ciBtn" data-ans="Equal">ORTA / EÅÄ°T</div>
    <div class="respBtn ciBtn" data-ans="Right">SAÄ</div>
  </div>
</div>

<div id="card_dicotic" class="card hidden">
  <h3>Dikotik Dinleme</h3>
  <div id="dicoticInfo" style="text-align:center; padding:10px; margin-bottom:10px;"></div>
  <button id="btn_startSession" class="bigBtn">BaÅŸla</button>
  
  <div id="dicoticTrials" class="hidden" style="margin-top:20px;">
    <div class="respRow" style="flex-wrap:wrap;">
      <div class="respBtn dicoticBtn" data-val="BA">BA</div>
      <div class="respBtn dicoticBtn" data-val="DA">DA</div>
      <div class="respBtn dicoticBtn" data-val="GA">GA</div>
      <div class="respBtn dicoticBtn" data-val="KA">KA</div>
      <div class="respBtn dicoticBtn" data-val="PA">PA</div>
      <div class="respBtn dicoticBtn" data-val="TA">TA</div>
    </div>
  </div>
</div>

<div id="card_end" class="card hidden">
  <h3>Deney TamamlandÄ± âœ…</h3>
  <p id="endLog" style="color:green; font-weight:bold;">Veriler gÃ¶nderiliyor...</p>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {

// --- YARDIMCILAR ---
const $id = (id) => document.getElementById(id);
const hideAll = () => document.querySelectorAll('.card').forEach(c => c.classList.add('hidden'));
const show = (id) => { hideAll(); $id(id).classList.remove('hidden'); window.scrollTo(0,0); };
function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]] } return arr; }

// --- GLOBAL VERÄ°LER ---
let DATA = { project:'', results:[] };
let audioCtx = null;
let ciQueue = [];
let ciIndex = 0;
let dicoticQueue = [];
let dicoticIndex = 0;
let isClickable = false;
let sessionOrder = [];
let currentSession = '';

// --- DOSYALAR ---
const CI_FILES = ["LBA-RBA.wav","LDA-RDA.wav","LGA-RGA.wav","LKA-RKA.wav","LPA-RPA.wav","LTA-RTA.wav"];
const PATH = "./sounds/yeni/erkek/"; 

// --- AUDIO MOTORU (SAFARI FIX) ---
function initAudio() {
  if(!audioCtx) {
    const AC = window.AudioContext || window.webkitAudioContext;
    audioCtx = new AC();
  }
  if(audioCtx.state === 'suspended') { audioCtx.resume(); }
}

// Bu fonksiyon sesi "tekmeler", yani uyanÄ±k tutar
function kickstartAudio() {
  initAudio();
  const osc = audioCtx.createOscillator();
  const g = audioCtx.createGain();
  g.gain.value = 0.001; // Duyulmayacak kadar sessiz
  osc.connect(g); g.connect(audioCtx.destination);
  osc.start(0); osc.stop(0.01);
}

// Sayfadaki her tÄ±klamada ses motorunu dÃ¼rtelim (Safari iÃ§in)
document.addEventListener('click', kickstartAudio);
document.addEventListener('touchstart', kickstartAudio);

// --- AKIÅ ---

// 1. Proje
$id('btn_project').onclick = () => {
  const p = $id('projectCode').value;
  if(!p) return alert("LÃ¼tfen proje seÃ§iniz.");
  DATA.project = p;
  show('card_participation');
};

// 2. KatÄ±lÄ±m
$id('btn_part').onclick = () => {
  show('card_consent');
  // Onam metnini projeye gÃ¶re ayarla
  let txt = "Bu Ã§alÄ±ÅŸma bilimsel amaÃ§larla yapÄ±lmaktadÄ±r.";
  if(DATA.project === 'CI') txt = "CI Zamanlama Ã‡alÄ±ÅŸmasÄ± Onam Metni...";
  $id('consentTextPreview').innerText = txt;
  $id('modalBody').innerHTML = txt;
};

// 3. Onam
$id('btn_showConsent').onclick = () => { $id('consentModal').style.display='block'; };
$id('closeModal').onclick = () => { $id('consentModal').style.display='none'; };
$id('btn_accept').onclick = () => { show('card_info'); };
$id('btn_decline').onclick = () => { alert("KatÄ±lÄ±m reddedildi."); };

// 4. Bilgi (BURASI TAKILIYORDU - DÃœZELTÄ°LDÄ°)
$id('btn_info').onclick = () => {
  const n = $id('inp_name').value.trim();
  const s = $id('inp_surname').value.trim();
  const a = $id('inp_age').value.trim();
  
  if(!n || !s || !a) return alert("Ad, Soyad ve YaÅŸ zorunludur.");
  
  DATA.name = n; DATA.surname = s; DATA.age = a;
  DATA.email = $id('inp_email').value;
  DATA.phone = $id('inp_phone').value;
  DATA.race = $id('inp_race').value;
  DATA.lang = $id('inp_lang').value;
  DATA.gender = $id('inp_gender').value;
  
  DATA.code = DATA.project + "_" + (n+s).toUpperCase().slice(0,4) + Math.floor(1000+Math.random()*9000);
  $id('codeDisplay').innerText = "KOD: " + DATA.code;
  
  // YÃ¶nlendirme
  if(DATA.project === 'Esporcu') show('card_espor');
  else if(DATA.project === 'Sporcu') show('card_spor');
  else show('card_hand'); // Standart akÄ±ÅŸ
};

// 5. Ã–zel Formlar
$id('btn_espor').onclick = () => {
  // Espor verilerini al...
  DATA.espor = { years: $id('esp_years').value }; // Ã–rnek
  show('card_hand');
};
$id('btn_spor').onclick = () => {
  // Spor verilerini al...
  DATA.spor = { years: $id('sp_years').value }; // Ã–rnek
  show('card_hand');
};

// 6. El & 7. STAI (BOÅ GEÃ‡Ä°LEBÄ°LÄ°R YAPILDI)
$id('btn_hand').onclick = () => { show('card_stai'); };
$id('btn_stai').onclick = () => { show('card_hearing'); };

// 8. Ä°ÅÄ°TME TESTÄ°
$id('btn_playL').onclick = () => playTone(-1);
$id('btn_playR').onclick = () => playTone(1);

function playTone(pan) {
  initAudio();
  const osc = audioCtx.createOscillator();
  const g = audioCtx.createGain();
  const p = audioCtx.createStereoPanner ? audioCtx.createStereoPanner() : audioCtx.createPanner();
  
  osc.frequency.value = 1500;
  
  const volVal = (pan===-1) ? $id('vol_L').value : $id('vol_R').value;
  g.gain.value = parseFloat(volVal) * 0.1; // Bip sesi kÄ±sÄ±k
  
  if(p.pan) p.pan.value = pan; else p.setPosition(pan,0,0);
  
  osc.connect(g).connect(p).connect(audioCtx.destination);
  osc.start(); osc.stop(audioCtx.currentTime + 0.5);
}

$id('btn_startTest').onclick = () => {
  DATA.volL = $id('vol_L').value;
  DATA.volR = $id('vol_R').value;
  
  if(DATA.project === 'CI') {
    initCITest();
  } else {
    // Standart Dikotik BaÅŸlat
    sessionOrder = ['Training', 'NF', 'FR', 'FL']; // Ã–rnek sÄ±ra
    startDicoticSession();
  }
};

/* --- CI TEST FONKSÄ°YONLARI --- */
function initCITest() {
  ciQueue = [];
  const delays = [0, 0.003, 0.006, 0.009];
  
  // Tones
  delays.forEach(d => {
    ciQueue.push({type:'tone', delay:d, lead:'Left'});
    if(d>0) ciQueue.push({type:'tone', delay:d, lead:'Right'});
  });
  
  // Speech
  CI_FILES.forEach(f => {
    delays.forEach(d => {
      ciQueue.push({type:'speech', file:f, delay:d, lead:'Left'});
      if(d>0) ciQueue.push({type:'speech', file:f, delay:d, lead:'Right'});
    });
  });
  
  ciQueue = shuffle(ciQueue);
  ciIndex = 0;
  show('card_ci');
  setTimeout(playNextCI, 1000);
}

async function playNextCI() {
  kickstartAudio(); // Safari garantisi
  
  if(ciIndex >= ciQueue.length) { finishExp(); return; }
  
  isClickable = false;
  const t = ciQueue[ciIndex];
  
  $id('ciInfoDisplay').innerText = `Soru ${ciIndex+1} / ${ciQueue.length} (${t.type === 'tone' ? 'BÄ°P' : 'HECE'})`;
  document.querySelectorAll('.ciBtn').forEach(b => b.style.opacity = 0.5);

  if(t.type === 'tone') {
    playToneITD(t);
  } else {
    await playSpeechITD(t);
  }
  
  // ButonlarÄ± aktif et
  setTimeout(() => {
    document.querySelectorAll('.ciBtn').forEach(b => b.style.opacity = 1);
    isClickable = true;
  }, 800); // Ses bitimine yakÄ±n aÃ§
}

function playToneITD(t) {
  const oscL = audioCtx.createOscillator(); oscL.frequency.value = 1500;
  const oscR = audioCtx.createOscillator(); oscR.frequency.value = 1500;
  
  const gL = audioCtx.createGain(); gL.gain.value = parseFloat(DATA.volL) * 0.1;
  const gR = audioCtx.createGain(); gR.gain.value = parseFloat(DATA.volR) * 0.1;
  
  const pL = audioCtx.createStereoPanner ? audioCtx.createStereoPanner() : audioCtx.createPanner();
  const pR = audioCtx.createStereoPanner ? audioCtx.createStereoPanner() : audioCtx.createPanner();
  
  if(pL.pan) { pL.pan.value=-1; pR.pan.value=1; } else { pL.setPosition(-1,0,0); pR.setPosition(1,0,0); }
  
  oscL.connect(gL).connect(pL).connect(audioCtx.destination);
  oscR.connect(gR).connect(pR).connect(audioCtx.destination);
  
  const now = audioCtx.currentTime;
  let tL = now + 0.1; let tR = now + 0.1;
  if(t.lead === 'Left') tR += t.delay; else tL += t.delay;
  
  oscL.start(tL); oscL.stop(tL+0.5);
  oscR.start(tR); oscR.stop(tR+0.5);
}

async function playSpeechITD(t) {
  try {
    const res = await fetch(PATH + t.file);
    const buf = await res.arrayBuffer();
    const ab = await audioCtx.decodeAudioData(buf);
    
    const srcL = audioCtx.createBufferSource();
    const srcR = audioCtx.createBufferSource();
    
    // Mono kanal ayÄ±rma
    const bL = audioCtx.createBuffer(1, ab.length, ab.sampleRate);
    const bR = audioCtx.createBuffer(1, ab.length, ab.sampleRate);
    bL.copyToChannel(ab.getChannelData(0), 0);
    bR.copyToChannel(ab.getChannelData(1), 0);
    
    srcL.buffer = bL; srcR.buffer = bR;
    
    const gL = audioCtx.createGain(); gL.gain.value = parseFloat(DATA.volL);
    const gR = audioCtx.createGain(); gR.gain.value = parseFloat(DATA.volR);
    
    const pL = audioCtx.createStereoPanner ? audioCtx.createStereoPanner() : audioCtx.createPanner();
    const pR = audioCtx.createStereoPanner ? audioCtx.createStereoPanner() : audioCtx.createPanner();
    
    if(pL.pan) { pL.pan.value=-1; pR.pan.value=1; } else { pL.setPosition(-1,0,0); pR.setPosition(1,0,0); }
    
    srcL.connect(gL).connect(pL).connect(audioCtx.destination);
    srcR.connect(gR).connect(pR).connect(audioCtx.destination);
    
    const now = audioCtx.currentTime;
    let tL = now + 0.1; let tR = now + 0.1;
    if(t.lead === 'Left') tR += t.delay; else tL += t.delay;
    
    srcL.start(tL); srcR.start(tR);
    
  } catch(e) {
    console.error(e);
    // Hata olursa pas geÃ§
    ciIndex++; setTimeout(playNextCI, 500);
  }
}

// CI YanÄ±t
document.querySelectorAll('.ciBtn').forEach(btn => {
  btn.onclick = () => {
    if(!isClickable) return;
    
    const t = ciQueue[ciIndex];
    DATA.results.push({
      trial: ciIndex+1,
      type: t.type,
      stim: t.file || 'Tone',
      delay: t.delay,
      lead: t.lead,
      resp: btn.dataset.ans
    });
    
    // GÃ¶rsel efekt
    btn.style.background = '#3498db'; btn.style.color = '#fff';
    setTimeout(()=>{ btn.style.background = '#ecf0f1'; btn.style.color = '#2c3e50'; }, 200);
    
    ciIndex++;
    setTimeout(playNextCI, 1500);
  };
});

/* --- DÄ°KOTÄ°K / STANDART TEST --- */
function startDicoticSession() {
  if(sessionOrder.length === 0) { finishExp(); return; }
  currentSession = sessionOrder.shift();
  
  $id('dicoticInfo').innerText = "Oturum: " + currentSession + "\nLÃ¼tfen bekleyiniz...";
  $id('btn_startSession').classList.remove('hidden');
  $id('dicoticTrials').classList.add('hidden');
  show('card_dicotic');
}

$id('btn_startSession').onclick = () => {
  kickstartAudio();
  $id('btn_startSession').classList.add('hidden');
  $id('dicoticTrials').classList.remove('hidden');
  
  // Ã–rnek playlist
  dicoticQueue = ["LBA-RBA.wav", "LDA-RDA.wav"]; 
  dicoticIndex = 0;
  playNextDicotic();
};

function playNextDicotic() {
  if(dicoticIndex >= dicoticQueue.length) { startDicoticSession(); return; }
  
  const file = dicoticQueue[dicoticIndex];
  isClickable = false;
  
  $id('dicoticInfo').innerText = (dicoticIndex+1) + " / " + dicoticQueue.length;
  
  // Basit Ã§alma (Standard Audio Element yerine Web Audio ile)
  playDicoticFile(file);
  
  setTimeout(()=>{ isClickable = true; }, 500);
}

async function playDicoticFile(file) {
  try {
    const res = await fetch(PATH + file);
    const buf = await res.arrayBuffer();
    const ab = await audioCtx.decodeAudioData(buf);
    const src = audioCtx.createBufferSource();
    src.buffer = ab;
    src.connect(audioCtx.destination);
    src.start(0);
  } catch(e) { console.log(e); }
}

document.querySelectorAll('.dicoticBtn').forEach(btn => {
  btn.onclick = () => {
    if(!isClickable) return;
    DATA.results.push({ session: currentSession, trial: dicoticIndex+1, resp: btn.dataset.val });
    dicoticIndex++;
    setTimeout(playNextDicotic, 1500);
  };
});

/* --- BÄ°TÄ°Å & EMAIL --- */
function finishExp() {
  show('card_end');
  
  const csv = JSON.stringify(DATA);
  
  if(window.emailjs) {
    emailjs.init("FLn2zMqKDGso3ePoO");
    emailjs.send("service_a8bnfmk", "template_r6sddff", {
      subject: DATA.code,
      message: csv
    }).then(
      () => { $id('endLog').innerText = "Veriler gÃ¶nderildi! TeÅŸekkÃ¼rler."; },
      (e) => { $id('endLog').innerText = "GÃ¶nderim HatasÄ±: " + JSON.stringify(e); }
    );
  } else {
    $id('endLog').innerText = "Email modÃ¼lÃ¼ yÃ¼klenemedi.";
  }
}

});
</script>
</body>
</html>
